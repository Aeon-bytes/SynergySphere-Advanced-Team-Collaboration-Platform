<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SynergySphere - Project Management</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
</head>
<body>
    <!-- Login/Signup Screen -->
    <div id="auth-screen" class="auth-container">
        <div class="auth-card">
            <div class="auth-header">
                <i class="fas fa-rocket me-2"></i>
                <h2>SynergySphere</h2>
            </div>
            
            <!-- Login Form -->
            <div id="login-form" class="auth-form">
                <h4>Welcome Back</h4>
                <form id="loginForm">
                    <div class="mb-3">
                        <label for="login-email" class="form-label">Email</label>
                        <input type="email" class="form-control" id="login-email" required>
                    </div>
                    <div class="mb-3">
                        <label for="login-password" class="form-label">Password</label>
                        <input type="password" class="form-control" id="login-password" required>
                    </div>
                    <button type="submit" class="btn btn-primary w-100 mb-3">Login</button>
                    <div class="text-center">
                        <a href="#" onclick="showSignupForm()" class="text-decoration-none">Don't have an account? Sign up</a>
                        <br>
                        <a href="#" onclick="showForgotPassword()" class="text-decoration-none small">Forgot Password?</a>
                    </div>
                </form>
            </div>

            <!-- Signup Form -->
            <div id="signup-form" class="auth-form" style="display: none;">
                <h4>Create Account</h4>
                <form id="signupForm">
                    <div class="mb-3">
                        <label for="signup-name" class="form-label">Full Name</label>
                        <input type="text" class="form-control" id="signup-name" required>
                    </div>
                    <div class="mb-3">
                        <label for="signup-email" class="form-label">Email</label>
                        <input type="email" class="form-control" id="signup-email" required>
                    </div>
                    <div class="mb-3">
                        <label for="signup-password" class="form-label">Password</label>
                        <input type="password" class="form-control" id="signup-password" required>
                    </div>
                    <button type="submit" class="btn btn-primary w-100 mb-3">Sign Up</button>
                    <div class="text-center">
                        <a href="#" onclick="showLoginForm()" class="text-decoration-none">Already have an account? Login</a>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Main Application -->
    <div id="main-app" style="display: none;">
        <!-- Navigation -->
        <nav class="navbar navbar-expand-lg">
            <div class="container">
                <a class="navbar-brand" href="#" onclick="showSection('dashboard')">
                    <i class="fas fa-rocket me-2"></i>
                    SynergySphere
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav me-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="#" onclick="showSection('dashboard')">
                                <i class="fas fa-home me-1"></i>Dashboard
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" onclick="showSection('projects')">
                                <i class="fas fa-project-diagram me-1"></i>Projects
                            </a>
                        </li>
                    </ul>
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <button class="theme-toggle me-2" onclick="toggleTheme()" title="Toggle Theme">
                                <i class="fas fa-moon" id="theme-icon"></i>
                            </button>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
                                <i class="fas fa-user me-1"></i>
                                <span id="user-name">User</span>
                            </a>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="#" onclick="showSection('profile')">
                                    <i class="fas fa-user-cog me-2"></i>Profile
                                </a></li>
                                <li><hr class="dropdown-divider"></li>
                                <li><a class="dropdown-item" href="#" onclick="logout()">
                                    <i class="fas fa-sign-out-alt me-2"></i>Logout
                                </a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="container-fluid py-4">
            <!-- Dashboard Section -->
            <section id="dashboard" class="content-section">
                <div class="row">
                    <div class="col-12">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h2>Dashboard</h2>
                            <button class="btn btn-primary" onclick="showCreateProjectModal()">
                                <i class="fas fa-plus me-1"></i>New Project
                            </button>
                        </div>
                        
                        <!-- Quick Stats -->
                        <div class="row mb-4">
                            <div class="col-md-3 col-sm-6 mb-3">
                                <div class="card text-center">
                                    <div class="card-body">
                                        <h5 class="card-title text-primary" id="total-projects">0</h5>
                                        <p class="card-text">Total Projects</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3 col-sm-6 mb-3">
                                <div class="card text-center">
                                    <div class="card-body">
                                        <h5 class="card-title text-warning" id="active-tasks">0</h5>
                                        <p class="card-text">Active Tasks</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3 col-sm-6 mb-3">
                                <div class="card text-center">
                                    <div class="card-body">
                                        <h5 class="card-title text-success" id="completed-tasks">0</h5>
                                        <p class="card-text">Completed Tasks</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3 col-sm-6 mb-3">
                                <div class="card text-center">
                                    <div class="card-body">
                                        <h5 class="card-title text-info" id="overdue-tasks">0</h5>
                                        <p class="card-text">Overdue Tasks</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Recent Projects -->
                        <div class="card">
                            <div class="card-header">
                                <h5 class="mb-0">Recent Projects</h5>
                            </div>
                            <div class="card-body">
                                <div id="recent-projects">
                                    <!-- Projects will be loaded here -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Projects Section -->
            <section id="projects" class="content-section section-hidden">
                <div class="row">
                    <div class="col-12">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h2>My Projects</h2>
                            <button class="btn btn-primary" onclick="showCreateProjectModal()">
                                <i class="fas fa-plus me-1"></i>New Project
                            </button>
                        </div>
                        <div id="projects-list">
                            <!-- Projects will be loaded here -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Project Detail Section -->
            <section id="project-detail" class="content-section section-hidden">
                <div class="row">
                    <div class="col-12">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <div>
                                <button class="btn btn-outline-secondary me-2" onclick="showSection('projects')">
                                    <i class="fas fa-arrow-left me-1"></i>Back
                                </button>
                                <h2 id="project-detail-title">Project Name</h2>
                            </div>
                            <button class="btn btn-primary" onclick="showCreateTaskModal()">
                                <i class="fas fa-plus me-1"></i>New Task
                            </button>
                        </div>
                        
                        <!-- Project Info -->
                        <div class="card mb-4">
                            <div class="card-body">
                                <h5 id="project-description">Project Description</h5>
                                <div class="row">
                                    <div class="col-md-3">
                                        <small class="text-muted">Created:</small>
                                        <div id="project-created">-</div>
                                    </div>
                                    <div class="col-md-3">
                                        <small class="text-muted">Tasks:</small>
                                        <div id="project-task-count">0</div>
                                    </div>
                                    <div class="col-md-3">
                                        <small class="text-muted">Members:</small>
                                        <div id="project-members">0</div>
                                    </div>
                                    <div class="col-md-3">
                                        <small class="text-muted">Status:</small>
                                        <div id="project-status">Active</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Task Lists -->
                        <div class="row">
                            <div class="col-md-4">
                                <div class="card">
                                    <div class="card-header d-flex justify-content-between align-items-center">
                                        <h6 class="mb-0">To Do</h6>
                                        <span class="badge badge-primary" id="todo-count">0</span>
                                    </div>
                                    <div class="card-body" id="todo-tasks">
                                        <!-- Todo tasks will be loaded here -->
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="card">
                                    <div class="card-header d-flex justify-content-between align-items-center">
                                        <h6 class="mb-0">In Progress</h6>
                                        <span class="badge badge-warning" id="in-progress-count">0</span>
                                    </div>
                                    <div class="card-body" id="in-progress-tasks">
                                        <!-- In progress tasks will be loaded here -->
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="card">
                                    <div class="card-header d-flex justify-content-between align-items-center">
                                        <h6 class="mb-0">Done</h6>
                                        <span class="badge badge-success" id="done-count">0</span>
                                    </div>
                                    <div class="card-body" id="done-tasks">
                                        <!-- Done tasks will be loaded here -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Profile Section -->
            <section id="profile" class="content-section section-hidden">
                <div class="row">
                    <div class="col-md-8">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="mb-0">Profile Settings</h5>
                            </div>
                            <div class="card-body">
                                <form onsubmit="updateProfile(event)">
                                    <div class="mb-3">
                                        <label for="profile-name" class="form-label">Full Name</label>
                                        <input type="text" class="form-control" id="profile-name" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="profile-email" class="form-label">Email</label>
                                        <input type="email" class="form-control" id="profile-email" required>
                                    </div>
                                    <button type="submit" class="btn btn-primary">Update Profile</button>
                                </form>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card">
                            <div class="card-header">
                                <h6 class="mb-0">Preferences</h6>
                            </div>
                            <div class="card-body">
                                <div class="form-check form-switch mb-3">
                                    <input class="form-check-input" type="checkbox" id="notifications" checked>
                                    <label class="form-check-label" for="notifications">
                                        Email Notifications
                                    </label>
                                </div>
                                <div class="form-check form-switch mb-3">
                                    <input class="form-check-input" type="checkbox" id="auto-refresh" checked>
                                    <label class="form-check-label" for="auto-refresh">
                                        Auto Refresh
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Modals -->
    <!-- Create Project Modal -->
    <div class="modal fade" id="createProjectModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Create New Project</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form onsubmit="createProject(event)">
                        <div class="mb-3">
                            <label for="project-name" class="form-label">Project Name</label>
                            <input type="text" class="form-control" id="project-name" required>
                        </div>
                        <div class="mb-3">
                            <label for="project-description" class="form-label">Description</label>
                            <textarea class="form-control" id="project-description" rows="3"></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="project-members" class="form-label">Team Members (comma-separated emails)</label>
                            <input type="text" class="form-control" id="project-members" placeholder="user1@example.com, user2@example.com">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="createProject()">Create Project</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Create Task Modal -->
    <div class="modal fade" id="createTaskModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Create New Task</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form onsubmit="createTask(event)">
                        <div class="mb-3">
                            <label for="task-title" class="form-label">Task Title</label>
                            <input type="text" class="form-control" id="task-title" required>
                        </div>
                        <div class="mb-3">
                            <label for="task-description" class="form-label">Description</label>
                            <textarea class="form-control" id="task-description" rows="3"></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="task-assignee" class="form-label">Assign To</label>
                            <select class="form-select" id="task-assignee" required>
                                <option value="">Select assignee</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="task-due-date" class="form-label">Due Date</label>
                            <input type="date" class="form-control" id="task-due-date">
                        </div>
                        <div class="mb-3">
                            <label for="task-priority" class="form-label">Priority</label>
                            <select class="form-select" id="task-priority">
                                <option value="low">Low</option>
                                <option value="medium" selected>Medium</option>
                                <option value="high">High</option>
                            </select>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="createTask()">Create Task</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Task Detail Modal -->
    <div class="modal fade" id="taskDetailModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="task-detail-title">Task Details</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-8">
                            <div class="mb-3">
                                <label class="form-label">Description</label>
                                <div id="task-detail-description" class="form-control" style="min-height: 100px;"></div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="mb-3">
                                <label class="form-label">Status</label>
                                <select class="form-select" id="task-detail-status" onchange="updateTaskStatus()">
                                    <option value="todo">To Do</option>
                                    <option value="in-progress">In Progress</option>
                                    <option value="done">Done</option>
                                </select>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Assignee</label>
                                <div id="task-detail-assignee"></div>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Due Date</label>
                                <div id="task-detail-due-date"></div>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Priority</label>
                                <div id="task-detail-priority"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-danger" onclick="deleteTask()">Delete Task</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
